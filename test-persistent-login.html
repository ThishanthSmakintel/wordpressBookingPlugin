<!DOCTYPE html>
<html>
<head>
    <title>Test Persistent Login</title>
</head>
<body>
    <h1>Test Persistent Login</h1>
    <div id="test-results"></div>
    
    <script>
        // Test localStorage functionality
        function testPersistentLogin() {
            const results = document.getElementById('test-results');
            
            // Test 1: Set session data
            localStorage.setItem('booking_session_token', 'test-token-123');
            localStorage.setItem('booking_user_email', 'test@example.com');
            
            // Test 2: Retrieve session data
            const token = localStorage.getItem('booking_session_token');
            const email = localStorage.getItem('booking_user_email');
            
            results.innerHTML = `
                <h2>Test Results:</h2>
                <p><strong>Token stored:</strong> ${token}</p>
                <p><strong>Email stored:</strong> ${email}</p>
                <p><strong>localStorage available:</strong> ${typeof(Storage) !== "undefined" ? 'Yes' : 'No'}</p>
                <p><strong>Test Status:</strong> ${token && email ? 'PASS' : 'FAIL'}</p>
                
                <h3>Instructions:</h3>
                <ol>
                    <li>Login to the booking system</li>
                    <li>Refresh the page</li>
                    <li>You should remain logged in</li>
                    <li>Check browser localStorage for 'booking_session_token' and 'booking_user_email'</li>
                </ol>
                
                <button onclick="clearTestData()">Clear Test Data</button>
            `;
        }
        
        function clearTestData() {
            localStorage.removeItem('booking_session_token');
            localStorage.removeItem('booking_user_email');
            alert('Test data cleared');
        }
        
        // Run test on page load
        testPersistentLogin();
    </script>
</body>
</html>